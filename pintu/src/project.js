require=function a(c,s,r){function l(e,t){if(!s[e]){if(!c[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(d)return d(e,!0);var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}var n=s[e]={exports:{}};c[e][0].call(n.exports,function(t){return l(c[e][1][t]||t)},n,n.exports,a,c,s,r)}return s[e].exports}for(var d="function"==typeof require&&require,t=0;t<r.length;t++)l(r[t]);return l}({Config:[function(t,e,o){"use strict";cc._RF.push(e,"53dffPuUzBAd42O4BvSMtWL","Config"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.isSoundOn=!0,t}();o.Config=i,cc._RF.pop()},{}],Dialogue:[function(t,e,o){"use strict";cc._RF.push(e,"b703do6z6NOpLzDLLbkRdZt","Dialogue"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./GameManager"),n=cc._decorator,a=n.ccclass,c=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickSound=null,t.tgSound=null,t.role=null,t.bg=null,t.spLarge=null,t.say=null,t._manager=null,t._isLoadingNext=!1,t._data=null,t._dialogue=null,t._index=0,t}return __extends(t,e),t.prototype.onLoad=function(){this._manager=i.GameManager.getManager(),cc.loader.loadRes("Data/dialogue",function(t,e){if(t)console.log(t);else{var o=this._manager.obj.id.split("-");this._data=e[o[0]],this.initDialogue()}}.bind(this))},t.prototype.start=function(){this.tgSound.isChecked=this._manager.isSoundOn()},t.prototype.initDialogue=function(){cc.loader.loadRes(this._data.bgm,function(t,e){t?console.log(t):this._manager.playBgm(e,this._data.bgm)}.bind(this));for(var t=this._manager.obj.id,e=0,o=this._data.dialogue;e<o.length;e++){var i=o[e];if(i.id==t){this._dialogue=i;break}}cc.loader.loadResArray([this._data.background,this._dialogue.image],cc.SpriteFrame,function(t,e){t?console.log(t):(this.bg.spriteFrame=e[0],this.spLarge.spriteFrame=e[1])}.bind(this)),this.changeDialogue(0)},t.prototype.changeDialogue=function(t){var e=this._dialogue.dialogue;if(t>=e.length)return this._index=t=e.length-1,this._manager.obj=this._dialogue.id,void(this._isLoadingNext||(this._isLoadingNext=cc.director.loadScene("Game")));var o=null;if("detective"==(e=e[this._index=t]).role)o="Texture/Dialogue/ic_aside_detective";else{if("girl"!=e.role)return void console.log(e);o="Texture/Dialogue/ic_aside_girl"}cc.loader.loadRes(o,cc.SpriteFrame,function(t,e){t?console.log(t):this.role.spriteFrame=e}.bind(this)),this.say.string=e.say},t.prototype.playClickSound=function(){this._manager.shot(this.clickSound)},t.prototype.onButtonClick=function(t,e){switch(this.playClickSound(),e){case"back":this._isLoadingNext||(this._isLoadingNext=cc.director.loadScene("SelectLevel"));break;case"sound":this._manager.toggleSound(this.tgSound.isChecked);break;case"next":this.changeDialogue(++this._index)}},__decorate([c(cc.AudioClip)],t.prototype,"clickSound",void 0),__decorate([c(cc.Toggle)],t.prototype,"tgSound",void 0),__decorate([c(cc.Sprite)],t.prototype,"role",void 0),__decorate([c(cc.Sprite)],t.prototype,"bg",void 0),__decorate([c(cc.Sprite)],t.prototype,"spLarge",void 0),__decorate([c(cc.Label)],t.prototype,"say",void 0),t=__decorate([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./GameManager":"GameManager"}],GameAreaDraw:[function(t,e,o){"use strict";cc._RF.push(e,"c7b81faItJLWpirCcpZ8hG9","GameAreaDraw"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._w=0,t._h=0,t._draw=null,t._blockSize=null,t}return __extends(t,e),t.prototype.start=function(){this._draw=this.node.getComponent(cc.Graphics)},t.prototype.setSize=function(t,e){this._w=t,this._h=e,this.drawLine()},t.prototype.drawLine=function(){var t=this.node.width/this._w,e=this.node.height/this._h,o=this._draw;this._blockSize=cc.v2(t,e);for(var i=1;i<this._w;i++){var n=i*t;o.moveTo(n,0),o.lineTo(n,this.node.height)}for(i=1;i<this._h;i++){var a=i*e;o.moveTo(0,a),o.lineTo(this.node.width,a)}o.stroke()},t=__decorate([n],t)}(cc.Component));o.default=a,cc._RF.pop()},{}],GameBlock:[function(t,e,o){"use strict";cc._RF.push(e,"6c0bbhOIdJGo5Db2o2AStFN","GameBlock"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,a=i.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spImage=null,t._tg=null,t._rightPosition=null,t._initPosition=null,t._keyPoint=null,t._listener=null,t}return __extends(t,e),(o=t).prototype.onLoad=function(){this._tg=this.node.getComponent(cc.Toggle)},t.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchEvent,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchEvent,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEvent,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEvent,this)},t.prototype.onTouchEvent=function(t){if(null!=this._listener&&this._listener.isTouchable)switch(t.type){case cc.Node.EventType.TOUCH_START:o.g_selected&&(o.g_selected._tg.isChecked=!1),(o.g_selected=this)._tg.isChecked=!0,t.stopPropagation(),this._listener&&this._listener.onSelectBlock(this);break;case cc.Node.EventType.TOUCH_END:case cc.Node.EventType.TOUCH_CANCEL:t.stopPropagation(),this._listener&&this._listener.onPutDown(this);break;case cc.Node.EventType.TOUCH_MOVE:this.node.x=t.getLocationX(),this.node.y=t.getLocationY(),t.stopPropagation()}},t.prototype.restoration=function(){this.node.x=this._initPosition.x,this.node.y=this._initPosition.y},t.prototype.isTrueBlock=function(){return null!=this._rightPosition},t.prototype.isRightStatus=function(){var t=this.isTrueBlock();return t&&(t=this.node.x==this._rightPosition.x&&this.node.y==this._rightPosition.y)&&(t=this.node.rotation%360==0),t},t.g_selected=null,__decorate([a(cc.Sprite)],t.prototype,"spImage",void 0),t=o=__decorate([n],t);var o}(cc.Component);o.default=c,cc._RF.pop()},{}],GameKeyPoint:[function(t,e,o){"use strict";cc._RF.push(e,"26ef7QNuSdFmqCeMJOpvjLf","GameKeyPoint"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._block=null,t}return __extends(t,e),t.prototype.start=function(){},t=__decorate([n],t)}(cc.Component));o.default=a,cc._RF.pop()},{}],GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"91f99KDrXJP6bM/b0GO7i7A","GameManager"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Config"),n=function(){function t(){this._obj=null,this._bgmId=-1,this._tag=null,this._bgm=null}return t.getManager=function(){return null==t._instance&&(t._instance=new t),t._instance},Object.defineProperty(t.prototype,"obj",{get:function(){return this._obj},set:function(t){this._obj=t},enumerable:!0,configurable:!0}),t.prototype.playBgm=function(t,e){this._tag!=e&&(this.stopBgm(),this._tag=e,this._bgm=t,i.Config.isSoundOn&&(this._bgmId=cc.audioEngine.play(t,!0,1)))},t.prototype.stopBgm=function(){-1!=this._bgmId&&(cc.audioEngine.stop(this._bgmId),this._bgmId=-1,this._tag=null,this._bgm=null)},t.prototype.stopAll=function(){cc.audioEngine.stopAll(),this._bgmId=-1,this._tag=null,this._bgm=null},t.prototype.shot=function(t){i.Config.isSoundOn&&cc.audioEngine.play(t,!1,1)},t.prototype.toggleSound=function(t){(i.Config.isSoundOn=t)?this.resumeBgm():this.pauseBgm()},t.prototype.isSoundOn=function(){return i.Config.isSoundOn},t.prototype.pauseBgm=function(){-1!=this._bgmId&&cc.audioEngine.pause(this._bgmId)},t.prototype.resumeBgm=function(){-1!=this._bgmId?cc.audioEngine.resume(this._bgmId):null!=this._bgm&&(this._bgmId=cc.audioEngine.play(this._bgm,!0,1))},t._instance=null,t}();o.GameManager=n,cc._RF.pop()},{"./Config":"Config"}],GameOver:[function(t,e,o){"use strict";cc._RF.push(e,"967a3o8mflA8K7NBEnhyL8m","GameOver"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./GameManager"),n=cc._decorator,a=n.ccclass,c=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgm=null,t.clickSound=null,t.lbName=null,t.lbLevel=null,t.spImage=null,t.spBackground=null,t.lbMoveCount=null,t.lbTurnCount=null,t.lbTime=null,t.tgSound=null,t._manager=null,t._isLoadingNext=!1,t._data=null,t}return __extends(t,e),t.prototype.start=function(){this._manager=i.GameManager.getManager(),this.tgSound.isChecked=this._manager.isSoundOn(),this._manager.playBgm(this.bgm,this.bgm),this._data=this._manager.obj,this.lbName.string=this._data.name,this.lbLevel.string=this._data.levelName,this.lbMoveCount.string=this._data.move.toString(),this.lbTurnCount.string=this._data.turn.toString(),this.lbTime.string=Math.round(this._data.time).toString(),cc.loader.loadResArray([this._data.background,this._data.image],cc.SpriteFrame,function(t,e){t?console.log(t):(this.spBackground.spriteFrame=e[0],this.spImage.spriteFrame=e[1])}.bind(this))},t.prototype.playClickSound=function(){this._manager.shot(this.clickSound)},t.prototype.onButtonClick=function(t,e){switch(this.playClickSound(),e){case"back":this._isLoadingNext||(this._isLoadingNext=cc.director.loadScene("SelectLevel"));break;case"sound":this._manager.toggleSound(this.tgSound.isChecked);break;case"again":this._isLoadingNext||(this._manager.obj={id:this._data.id},this._isLoadingNext=cc.director.loadScene("Dialogue"))}},__decorate([c(cc.AudioClip)],t.prototype,"bgm",void 0),__decorate([c(cc.AudioClip)],t.prototype,"clickSound",void 0),__decorate([c(cc.Label)],t.prototype,"lbName",void 0),__decorate([c(cc.Label)],t.prototype,"lbLevel",void 0),__decorate([c(cc.Sprite)],t.prototype,"spImage",void 0),__decorate([c(cc.Sprite)],t.prototype,"spBackground",void 0),__decorate([c(cc.Label)],t.prototype,"lbMoveCount",void 0),__decorate([c(cc.Label)],t.prototype,"lbTurnCount",void 0),__decorate([c(cc.Label)],t.prototype,"lbTime",void 0),__decorate([c(cc.Toggle)],t.prototype,"tgSound",void 0),t=__decorate([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./GameManager":"GameManager"}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"f0976q/3lFJe5WQQlwSUiLQ","Game"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./GameManager"),M=t("./GameKeyPoint"),n=t("./Util"),N=t("./GameBlock"),a=t("./GameAreaDraw"),c=cc._decorator,s=c.ccclass,r=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickSound=null,t.tgSound=null,t.lbName=null,t.lbLevel=null,t.gameArea=null,t.blockSpawn=null,t.lbTime=null,t.pb=null,t.block=null,t.key=null,t.partBlock=null,t.keyNode=null,t._keyPoint=[],t._manager=null,t._isLoadingNext=!1,t._data=null,t._time=0,t._second=0,t._isGameOver=!1,t._isClearSelectedAfterGameOver=!1,t._blockList=[],t._disBlockList=[],t._w_h=null,t._listener=null,t._moveCount=0,t._turnCount=0,t}return __extends(t,e),t.prototype.onLoad=function(){this._manager=i.GameManager.getManager()},t.prototype.onDestroy=function(){N.default.g_selected=null},t.prototype.start=function(){this.tgSound.isChecked=this._manager.isSoundOn(),this._listener={isTouchable:!0,onPutDown:this.onBlockPutDown.bind(this),onSelectBlock:this.onBlockSelected.bind(this)},cc.loader.loadRes("Data/gameConfig",function(t,e){t?console.log(t):(this._data=e[this._manager.obj],this.initData())}.bind(this))},t.prototype.playClickSound=function(){this._manager.shot(this.clickSound)},t.prototype.onButtonClick=function(t,e){switch(this.playClickSound(),e){case"back":this._isLoadingNext||(this._isLoadingNext=cc.director.loadScene("SelectLevel"));break;case"sound":this._manager.toggleSound(this.tgSound.isChecked);break;case"turn":this.turnBlock()}},t.prototype.turnBlock=function(){if(null!=N.default.g_selected){var t=N.default.g_selected,e=.5,o=90*Math.floor((t.node.rotation+90)/90);e*=(o-t.node.rotation)/90,t.node.stopAllActions(),t.node.runAction(cc.sequence(cc.rotateTo(e,o),cc.callFunc(this.actionCallback.bind(this)))),this._turnCount++}},t.prototype.actionCallback=function(){this.checkResult()},t.prototype.initData=function(){this._w_h={w:this._data.width,h:this._data.height},this.initGameArea(),this.lbName.string=this._data.name,this.lbLevel.string=this._data.levelName,this.lbTime.string=n.default.getFormatDateByLong(1e3*this._data.duration,"mm:ss"),this._time=this._data.duration,cc.loader.loadResArray([this._data.image,this._data.disturbImage],function(t,e){t?console.log(t):this.createBlock(e[0],e[1])}.bind(this))},t.prototype.initGameArea=function(){this.gameArea.setSize(this._w_h.w,this._w_h.h)},t.prototype.createBlock=function(t,e){for(var o=this._w_h.w,i=this._w_h.h,n=o*i,a=this.gameArea._blockSize.x,c=this.gameArea._blockSize.y,s=a/2,r=c/2,l=[],d=0;d<this._data.disturbCount;d++)l.push(Math.round(cc.random0To1()*(n-1)));for(var u=0,h=l;u<h.length;u++){var p=(d=h[u])%o*a,_=Math.floor(d/i)*c;(y=cc.rect(p,_,a,c)).x+y.width>e.width&&(y.width=e.width-y.x),y.y+y.height>e.height&&(y.height=e.height-y.y);var g=new cc.SpriteFrame(e,y);(f=(v=cc.instantiate(this.block)).getComponent(N.default)).spImage.spriteFrame=g,f.node.width=a,f.node.height=c,f.spImage.node.width=a,f.spImage.node.height=c,v.x=this.blockSpawn.x+this.blockSpawn.width*cc.random0To1(),v.y=this.blockSpawn.y+this.blockSpawn.height*cc.random0To1(),f._initPosition=cc.v2(v.x,v.y),this._disBlockList.push(f),this.partBlock.addChild(v),f._listener=this._listener}l.splice(0,l.length);for(d=0;d<this._data.rotateCount;d++){var m=Math.round(cc.random0To1()*(n-1));l.push(m)}for(d=0;d<n;d++){var y;p=d%o*a,_=Math.floor(d/i)*c;(y=cc.rect(p,_,a,c)).x+y.width>e.width&&(y.width=e.width-y.x),y.y+y.height>e.height&&(y.height=e.height-y.y);g=new cc.SpriteFrame(t,y);var v,f=(v=cc.instantiate(this.block)).getComponent(N.default),b=cc.instantiate(this.key).getComponent(M.default);b.node.x=p+s,b.node.y=_+r,b.node.width=a,b.node.height=c;var k=this.gameArea.node.convertToWorldSpace(cc.v2(b.node.x,b.node.y));console.log(b.node.x+","+b.node.y+"---\x3e"+k.x+","+k.y),b.node.x=k.x,b.node.y=k.y,f.spImage.spriteFrame=g,f.node.width=a,f.node.height=c,f.spImage.node.width=a,f.spImage.node.height=c,f._rightPosition=cc.v2(b.node.x,b.node.y),v.x=this.blockSpawn.x+this.blockSpawn.width*cc.random0To1(),v.y=this.blockSpawn.y+this.blockSpawn.height*cc.random0To1(),f._initPosition=cc.v2(v.x,v.y),this._keyPoint.push(b),this._blockList.push(f),this.keyNode.addChild(b.node),this.partBlock.addChild(v),f._listener=this._listener;for(var S=0,C=l;S<C.length;S++){if(d==C[S]){f.node.rotation=90*Math.floor(3*cc.random0To1()+1);break}}}for(var L=0,T=(i-1)*o;;){for(d=0;d<o;d++){var x=this._blockList[L+d],w=this._blockList[T+d];k=x._rightPosition;x._rightPosition=w._rightPosition,w._rightPosition=k}if(L==T||L+Number(o)==T)break;L+=Number(o),T-=Number(o)}},t.prototype.onBlockSelected=function(t){for(var e=0;e<this._blockList.length;e++)t===this._blockList[e]?t.node.setLocalZOrder(1e3):this._blockList[e].node.setLocalZOrder(900)},t.prototype.onBlockPutDown=function(t){if(null!=t._keyPoint&&t===t._keyPoint._block&&(t._keyPoint._block=null),cc.rectContainsPoint(this.blockSpawn.getBoundingBoxToWorld(),cc.v2(t.node.x,t.node.y)))t._initPosition=cc.v2(t.node.x,t.node.y);else{for(var e=0,o=this._keyPoint;e<o.length;e++){var i=o[e];if(cc.rectContainsPoint(i.node.getBoundingBoxToWorld(),cc.v2(t.node.x,t.node.y)))return null!=i._block&&t!==i._block&&i._block.restoration(),t.node.x=i.node.x,t.node.y=i.node.y,(i._block=t)._keyPoint=i,this._moveCount++,void this.checkResult()}t.restoration()}},t.prototype.checkResult=function(){for(var t=0,e=this._keyPoint;t<e.length;t++){var o=e[t];if(null==o._block)return;if(!o._block.isRightStatus())return}this.gameOver()},t.prototype.gameOver=function(t){void 0===t&&(t=!1),this._isGameOver=!0,this._listener.isTouchable=!1,N.default.g_selected&&(N.default.g_selected=null);for(var e=0,o=this._blockList;e<o.length;e++){(a=o[e])._tg.interactable=!1,a._tg.isChecked=!1}for(var i=0,n=this._disBlockList;i<n.length;i++){var a;(a=n[i])._tg.interactable=!1,a.node.destroy()}this._data.time=this._data.duration-this._time,this._data.move=this._moveCount,this._data.turn=this._turnCount,t?(console.log("游戏结束-时间到"),this._data.isSuccess=!1):(console.log("游戏结束，过关"),this._data.isSuccess=!0),this._manager.obj=this._data,this._isLoadingNext||(this._isLoadingNext=cc.director.loadScene("GameOver"))},t.prototype.update=function(t){if(this.progressTime(t),this._isGameOver&&!this._isClearSelectedAfterGameOver){this._isClearSelectedAfterGameOver=!0;for(var e=0,o=this._blockList;e<o.length;e++){var i=o[e];i._tg.interactable=!1,i._tg.isChecked=!1}}},t.prototype.progressTime=function(t){this._isGameOver||(this._second+=t,1<=this._second&&(this._time-=this._second,this._time<0&&(this._time=0,this.gameOver(!0)),this._second=0,this.lbTime.string=n.default.getFormatDateByLong(1e3*this._time,"mm:ss"),this.pb.progress=this._time/this._data.duration))},__decorate([r(cc.AudioClip)],t.prototype,"clickSound",void 0),__decorate([r(cc.Toggle)],t.prototype,"tgSound",void 0),__decorate([r(cc.Label)],t.prototype,"lbName",void 0),__decorate([r(cc.Label)],t.prototype,"lbLevel",void 0),__decorate([r(a.default)],t.prototype,"gameArea",void 0),__decorate([r(cc.Node)],t.prototype,"blockSpawn",void 0),__decorate([r(cc.Label)],t.prototype,"lbTime",void 0),__decorate([r(cc.ProgressBar)],t.prototype,"pb",void 0),__decorate([r(cc.Prefab)],t.prototype,"block",void 0),__decorate([r(cc.Prefab)],t.prototype,"key",void 0),__decorate([r(cc.Node)],t.prototype,"partBlock",void 0),__decorate([r(cc.Node)],t.prototype,"keyNode",void 0),t=__decorate([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./GameAreaDraw":"GameAreaDraw","./GameBlock":"GameBlock","./GameKeyPoint":"GameKeyPoint","./GameManager":"GameManager","./Util":"Util"}],SelectLevel:[function(t,e,o){"use strict";cc._RF.push(e,"29717DxTuhKB7A+x6WsHYdO","SelectLevel"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./GameManager"),n=cc._decorator,a=n.ccclass,c=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgm=null,t.clickSound=null,t.ivLarge=null,t.ivTitle=null,t.tgSound=null,t.ivsLevel=[],t.tgsLevel=[],t._manager=null,t._isLoadingNext=!1,t._data=null,t._current=-1,t._select=[],t}return __extends(t,e),t.prototype.onLoad=function(){cc.loader.loadRes("Data/scene",function(t,e){t?console.log(t):(this._data=e,this.onClickSenceLevel(null,"0"))}.bind(this))},t.prototype.start=function(){this._manager=i.GameManager.getManager(),this._manager.playBgm(this.bgm,this.bgm),this.tgSound.isChecked=this._manager.isSoundOn()},t.prototype.setLevelImage=function(t){for(var e=this._data[t],o=[],i=0,n=this._data[t].images;i<n.length;i++){var a=n[i];o.push(a.src)}o.push(e.titleImage),cc.loader.loadResArray(o,cc.SpriteFrame,function(t,e){if(t)console.log(t);else{for(var o=0;o<this.ivsLevel.length;o++)this.ivsLevel[o].spriteFrame=e[o];this.ivTitle.spriteFrame=e[6],this.onClickSublevel(null,"0")}}.bind(this))},t.prototype.playClickSound=function(){this._manager.shot(this.clickSound)},t.prototype.onClickSenceLevel=function(t,e){null!=t&&this.playClickSound();var o=Number(e);this._select[0]=o,this.setLevelImage(o)},t.prototype.onClickSublevel=function(t,e){null!=t&&this.playClickSound();var o=Number(e);this._select[1]=o,this.ivLarge.spriteFrame=this.ivsLevel[e].spriteFrame,this.tgsLevel[e].isChecked=!0,-1!=this._current&&this._current!=o&&(this.tgsLevel[this._current].isChecked=!1),this._current=Number(e)},t.prototype.onButtonClick=function(t,e){switch(this.playClickSound(),e){case"back":this._isLoadingNext||(this._isLoadingNext=cc.director.loadScene("StartMenu"));break;case"sound":this._manager.toggleSound(this.tgSound.isChecked);break;case"play":this._manager.obj={id:this._data[this._select[0]].images[this._select[1]].id},this._isLoadingNext||(this._isLoadingNext=cc.director.loadScene("Dialogue"))}},__decorate([c(cc.AudioClip)],t.prototype,"bgm",void 0),__decorate([c(cc.AudioClip)],t.prototype,"clickSound",void 0),__decorate([c(cc.Sprite)],t.prototype,"ivLarge",void 0),__decorate([c(cc.Sprite)],t.prototype,"ivTitle",void 0),__decorate([c(cc.Toggle)],t.prototype,"tgSound",void 0),__decorate([c([cc.Sprite])],t.prototype,"ivsLevel",void 0),__decorate([c([cc.Toggle])],t.prototype,"tgsLevel",void 0),t=__decorate([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./GameManager":"GameManager"}],StartMenu:[function(t,e,o){"use strict";cc._RF.push(e,"ce5e3jPazNIL48qQgRsAFae","StartMenu"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./GameManager"),n=cc._decorator,a=n.ccclass,c=n.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgm=null,t.clickSound=null,t.tgBgm=null,t.spTips=null,t.lbTips=null,t.nodeTips=null,t._tipsAnim=null,t._manager=null,t._isLoadingNext=!1,t.background=null,t}return __extends(t,e),t.prototype.start=function(){this._manager=i.GameManager.getManager(),this.tgBgm.isChecked=this._manager.isSoundOn(),this._manager.playBgm(this.bgm,this.bgm),this._tipsAnim=this.nodeTips.getComponent(cc.Animation),this.test()},t.prototype.playClickSound=function(){this._manager.shot(this.clickSound)},t.prototype.toggleBgm=function(){this._manager.toggleSound(this.tgBgm.isChecked)},t.prototype.clickMenu=function(t,e){if(this.playClickSound(),this.nodeTips.active)this._tipsAnim.play("tips_out");else switch(e){case"1":this._tipsAnim.play("tips_in"),this.lbTips.active=!0,this.spTips.active=!1;break;case"2":this._tipsAnim.play("tips_in"),this.lbTips.active=!1,this.spTips.active=!0;break;case"3":this._isLoadingNext||(this._isLoadingNext=cc.director.loadScene("SelectLevel"))}},t.prototype.test=function(){},__decorate([c(cc.AudioClip)],t.prototype,"bgm",void 0),__decorate([c(cc.AudioClip)],t.prototype,"clickSound",void 0),__decorate([c(cc.Toggle)],t.prototype,"tgBgm",void 0),__decorate([c(cc.Node)],t.prototype,"spTips",void 0),__decorate([c(cc.Node)],t.prototype,"lbTips",void 0),__decorate([c(cc.Node)],t.prototype,"nodeTips",void 0),__decorate([c(cc.Animation)],t.prototype,"_tipsAnim",void 0),__decorate([c(cc.Sprite)],t.prototype,"background",void 0),t=__decorate([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./GameManager":"GameManager"}],TipsAnimation:[function(t,e,o){"use strict";cc._RF.push(e,"4aa96mc+N1JJJgBwQZc9Eu1","TipsAnimation"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){},e.prototype.onTipsAnimationCallback=function(t){this.node.active=t},e=__decorate([n],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],Util:[function(t,e,o){"use strict";cc._RF.push(e,"de7e7fFX05J/aj67B7wDCfy","Util"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function o(){}return o.getFormatDateByLong=function(t,e){return o.getFormatDate(new Date(t),e)},o.getFormatDate=function(t,e){void 0===t&&(t=new Date),void 0===e&&(e="yyyy-MM-dd hh:mm:ss");var o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[i]:("00"+o[i]).substr((""+o[i]).length)));return e},o}();o.default=i,cc._RF.pop()},{}]},{},["Config","Dialogue","Game","GameAreaDraw","GameBlock","GameKeyPoint","GameManager","GameOver","SelectLevel","StartMenu","TipsAnimation","Util"]);